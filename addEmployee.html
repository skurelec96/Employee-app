<!DOCTYPE html>
<html lang="hr">
  <head>
    <meta charset="UTF-8" />
    <title>Dodaj Zaposlenika</title>
    <script>
      function showContractLength() {
        const contractType = document.getElementById("contract_type").value;
        const contractDurationField =
          document.getElementById("contract_duration");
        const contractDurationLabel = document.getElementById("contract_label");
        if (contractType === "Neodređeno") {
          contractDurationField.style.display = "none";
          contractDurationLabel.style.display = "none";
          contractDurationField.removeAttribute("required");
        } else {
          contractDurationField.style.display = "block";
          contractDurationLabel.style.display = "block";
          contractDurationField.setAttribute("required", "");
        }
      }
      window.onload = function () {
        showContractLength();
        document
          .getElementById("contract_type")
          .addEventListener("change", showContractLength);
      };

      function toggleMoreInfo() {
        const moreInfoSection = document.getElementById("more-info");
        const button = document.getElementById("toggle-more-info");

        if (
          moreInfoSection.style.display === "none" ||
          moreInfoSection.style.display === ""
        ) {
          moreInfoSection.style.display = "block";
          button.textContent = "Manje informacija";
        } else {
          moreInfoSection.style.display = "none";
          button.textContent = "Dodatne informacije";
        }
      }
    </script>
  </head>
  <body>
    <h1>Dodaj novog zaposlenika</h1>
    <form action="/employee" method="POST" enctype="multipart/form-data">
      <label for="first_name">Ime:</label><br />
      <input
        type="text"
        id="first_name"
        name="first_name"
        required
      /><br /><br />

      <label for="last_name">Prezime:</label><br />
      <input type="text" id="last_name" name="last_name" required /><br /><br />

      <label for="gender">Spol:</label><br />
      <select id="gender" name="gender" required>
        <option value="Muški">Muški</option>
        <option value="Ženski">Ženski</option></select
      ><br /><br />

      <label for="birth_year">Godina rođenja:</label><br />
      <input
        type="number"
        id="birth_year"
        name="birth_year"
        required
      /><br /><br />

      <label for="start_date">Početak rada:</label><br />
      <input
        type="date"
        id="start_date"
        name="start_date"
        required
      /><br /><br />

      <label for="contract_type">Vrsta ugovora:</label><br />
      <select id="contract_type" name="contract_type" required>
        <option value="Određeno">Određeno</option>
        <option value="Neodređeno">Neodređeno</option></select
      ><br /><br />

      <label for="contract_duration" id="contract_label"
        >Trajanje ugovora:</label
      ><br />
      <input
        type="text"
        id="contract_duration"
        name="contract_duration"
        required
      /><br /><br />

      <label for="department">Odjel:</label><br />
      <input
        type="text"
        id="department"
        name="department"
        required
      /><br /><br />

      <button type="button" id="toggle-more-info" onclick="toggleMoreInfo()">
        Dodatne informacije
      </button>
      <br /><br />
      <div id="more-info" style="display: none">
        <br /><br />
        <label for="vacation_days">Broj dana godišnjeg odmora:</label><br />
        <input
          type="number"
          id="vacation_days"
          name="vacation_days"
        /><br /><br />

        <label for="free_days">Broj slobodnih dana:</label><br />
        <input type="number" id="free_days" name="free_days" /><br /><br />

        <label for="paid_leave_days">Broj dana plaćenog dopusta:</label><br />
        <input
          type="number"
          id="paid_leave_days"
          name="paid_leave_days"
        /><br /><br />
      </div>

      <label for="image">Slika:</label><br />
      <input
        type="file"
        id="image"
        name="image"
        accept="image/*"
        required
      /><br /><br />

      <input type="submit" value="Dodaj zaposlenika" />
    </form>
  </body>
</html>
